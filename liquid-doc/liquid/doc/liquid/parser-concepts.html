<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>1.4&nbsp;parser</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/doc/racket/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/mordecai/.racket/6.1/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket Library Support for LIQUID</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Concepts.html" class="tocviewselflink" data-pltdoc="x">Concepts</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Architecture.html" class="tocviewlink" data-pltdoc="x">Architecture</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Reference.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Examples.html" class="tocviewlink" data-pltdoc="x">Examples</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="db-lib-tests.html" class="tocviewlink" data-pltdoc="x">Running Tests</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>1&nbsp;</td><td><a href="Concepts.html" class="tocviewlink" data-pltdoc="x">Concepts</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="db-lib-concepts.html" class="tocviewlink" data-pltdoc="x">db-<wbr></wbr>lib</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="dataplex-concepts.html" class="tocviewlink" data-pltdoc="x">dataplex</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="object-concepts.html" class="tocviewlink" data-pltdoc="x">node</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">parser</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>1.4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">parser</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.4.1&nbsp;</td><td><a href="#%28part._to-do%29" class="tocviewlink" data-pltdoc="x">to-<wbr></wbr>do</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.4.1<tt>&nbsp;</tt></span><a href="#%28part._to-do%29" class="tocsubseclink" data-pltdoc="x">to-<wbr></wbr>do</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.1</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.1&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="object-concepts.html" title="backward to &quot;1.3 node&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Concepts.html" title="up to &quot;1 Concepts&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Architecture.html" title="forward to &quot;2 Architecture&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;liquid/liquid.scrbl&quot;)" x-part-tag="&quot;parser-concepts&quot;">1.4<tt>&nbsp;</tt><a name="(part._parser-concepts)"></a>parser</h4><p>This is a framework for writing context free (or a little bit of context) parsers,
   where the resulting parse will contain error tokens when things don&rsquo;t go as planned.
   The error tokens can then be scanned out to create informative error messages within
   context. The example shown is specifically for parsing conjunctive queries.</p><p>The basic approach is that of reccursive descent.  There is a top level rule provided
   by the program which attempts to parse the entire input.  This is the great grandaddy
   of all the rules.  Each parent rule then calls child rules in attempt to parse out
   sub-parts as specified by the grammar.  If the grammar allows for alternatives, then
   after a child rule mismatch, the parent rule will attempt the alternative child rule.
   Should no alternative match, then the parent will replace this part of the syntax
   with an error token.</p><p>The rules we refer to here are functions, and these functions are written by the author
   of the parser.  Hence full knoweldge of the grammar and how to handle errors can be
   custom built into each rule by the programmer.</p><p>As an example, an example rule I have provided is for parsing &rsquo;framed&rsquo; lists of
   syntactical elements.  Here the framing is provided by a separator punctuation and some
   sort of last item separator.  The framing rule  does not do recursive descent, but
   instead correlates the framing pattern against the input.  This is more stable than
   doing recursive descent for such situations.  (The example framing rule can use
   some improvements.)</p><p>A parse rule reduces input text to a &rsquo;token&rsquo;.  A token is a list, where the head of the
   list is a type, and then this is followed by an attribute list, and then remaining
   members are childr tokens, if any.  The form is almost the same as that of x-expr for
   the html parser.  On the next version we will make them identical so the two tools can
   exchange data.</p><h5 x-source-module="(lib &quot;liquid/liquid.scrbl&quot;)" x-part-tag="&quot;to-do&quot;">1.4.1<tt>&nbsp;</tt><a name="(part._to-do)"></a>to-do</h5><p>The parse tree type should be unified with the x-expr type.  Probably should rename this to
just &rsquo;parser&rsquo;  as it can be used for anything, not just queries.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.1&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="object-concepts.html" title="backward to &quot;1.3 node&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Concepts.html" title="up to &quot;1 Concepts&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Architecture.html" title="forward to &quot;2 Architecture&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>