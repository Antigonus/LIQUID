<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>4.1&nbsp;db-lib</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/doc/racket/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/mordecai/.racket/6.1/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Racket Library Support for LIQUID</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="About_Project_LIQUID.html" class="tocviewlink" data-pltdoc="x">About Project LIQUID</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Concepts.html" class="tocviewlink" data-pltdoc="x">Concepts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Architecture.html" class="tocviewlink" data-pltdoc="x">Architecture</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Reference.html" class="tocviewselflink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Examples.html" class="tocviewlink" data-pltdoc="x">Examples</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="db-lib-tests.html" class="tocviewlink" data-pltdoc="x">Running Tests</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>4&nbsp;</td><td><a href="Reference.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">db-<wbr></wbr>lib</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="dataplex-reference.html" class="tocviewlink" data-pltdoc="x">dataplex</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="realtime-reference.html" class="tocviewlink" data-pltdoc="x">realtime</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="http-session-ref.html" class="tocviewlink" data-pltdoc="x">http-<wbr></wbr>session</a></td></tr><tr><td align="right">4.5&nbsp;</td><td><a href="http-server-ref.html" class="tocviewlink" data-pltdoc="x">http-<wbr></wbr>server</a></td></tr><tr><td align="right">4.6&nbsp;</td><td><a href="http-server-pages-ref.html" class="tocviewlink" data-pltdoc="x">http-<wbr></wbr>server-<wbr></wbr>pages</a></td></tr><tr><td align="right">4.7&nbsp;</td><td><a href="node-reference.html" class="tocviewlink" data-pltdoc="x">node</a></td></tr><tr><td align="right">4.8&nbsp;</td><td><a href="parser-ref.html" class="tocviewlink" data-pltdoc="x">parser</a></td></tr><tr><td align="right">4.9&nbsp;</td><td><a href="filter-ref.html" class="tocviewlink" data-pltdoc="x">filter</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28form._%28%28lib._liquid%2Fdb-lib..rkt%29._as-transaction%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">as-<wbr></wbr>transaction</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db-lib-init%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db-<wbr></wbr>lib-<wbr></wbr>init</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3aalloc-name%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>alloc-<wbr></wbr>name</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3adealloc-name%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>dealloc-<wbr></wbr>name</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3aalloc-number%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>alloc-<wbr></wbr>number</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3adealloc-number%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>dealloc-<wbr></wbr>number</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3acreate-keyspace%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>create-<wbr></wbr>keyspace</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3acreate-table%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>create-<wbr></wbr>table</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3adelete-keyspace%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>delete-<wbr></wbr>keyspace</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3adelete-table%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>delete-<wbr></wbr>table</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3adelete-table%2A%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>delete-<wbr></wbr>table*</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3ais-keyspace%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>is-<wbr></wbr>keyspace</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3ais-table%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>is-<wbr></wbr>table</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._db~3atables%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">db:<span class="mywbr"> &nbsp;</span>tables</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._keyspace~3aalloc-number%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">keyspace:<span class="mywbr"> &nbsp;</span>alloc-<wbr></wbr>number</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._keyspace~3adealloc-number%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">keyspace:<span class="mywbr"> &nbsp;</span>dealloc-<wbr></wbr>number</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._table~3adelete%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">table:<span class="mywbr"> &nbsp;</span>delete</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._table~3ainsert%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">table:<span class="mywbr"> &nbsp;</span>insert</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._table~3ainsert%2A%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">table:<span class="mywbr"> &nbsp;</span>insert*</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._liquid%2Fdb-lib..rkt%29._table~3amatch%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">table:<span class="mywbr"> &nbsp;</span>match</span></a></td></tr><tr><td><a href="#%28form._%28%28lib._liquid%2Fdb-lib..rkt%29._with-db%29%29" class="tocsublink" data-pltdoc="x"><span class="RktSym">with-<wbr></wbr>db</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.1</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.1&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Reference.html" title="backward to &quot;4 Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Reference.html" title="up to &quot;4 Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dataplex-reference.html" title="forward to &quot;4.2 dataplex&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4 x-source-module="(lib &quot;liquid/liquid.scrbl&quot;)" x-part-tag="&quot;db-lib-reference&quot;">4.1<tt>&nbsp;</tt><a name="(part._db-lib-reference)"></a><a name="(mod-path._liquid/db-lib)"></a>db-lib</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.1" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">liquid/db-lib</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">liquid-lib</span></span></td></tr></table></p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._liquid/db-lib..rkt)._as-transaction))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">as-transaction</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><p>Context for a transaction.  The transaction begins when the context
        is entered, and ends upon leaving the context.  <span class="RktSym">body</span> can be any LISP
        form, including those which do not invoke db-lib.</p><p>Entering a transaction will block the current connection from
        being used in transactions in other threads.  See also, <font class="badlink">(part "with-db")</font>.</p><p>The transaction is rolled back if an exception occurs.  The rollback affects only
        daabase functions, not the LISP functions inside the transaction block.</p><p>The transaction is committed upon leaving the scope other than by an exception.</p><p>.. probably should add a break that rolls back the transactions without an
        exception (perhapst this is an exception that is locally handled)</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db-lib-init))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db-lib-init</span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote><p>Initializes the module.  Must be called at least once before the module is used.
  Multiple invocations are ok.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3aalloc-name))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:alloc-name</span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr></table></blockquote><p>Within the database context, returns a string which this function has never returned before,
  or a string which was legally deallocated using <span class="RktSym">db:dealloc-name</span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3adealloc-name))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:dealloc-name</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Currently this is ignored, but in the future deallocating a name might make it available
  for allocation once again.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3aalloc-number))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:alloc-number</span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">number?</a></span></p></blockquote></td></tr></table></blockquote><p>Within the database context, returns a number which this function has never returned before,
  or returns a number that has been deallocated.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3adealloc-number))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:dealloc-number</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr></table></blockquote><p>Makes <span class="RktSym">number</span> available for allocation once again.</p><p>In the future there will be a mode that when invoked will make deallocating a number which
  was never allocatd an error, and we will have a another function for checking if an allocation
  is valid.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3acreate-keyspace))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:create-keyspace</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keyspace</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keyspace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Declares that the string <span class="RktSym">keyspace</span> is a keyspace.  Once a keyspace is declared unique
  keys maybe allocated from it.</p><p>I&rsquo;m not sure what happens if one tries to declare the same keyspace twice.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3acreate-table))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:create-table</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">column-count</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">column-count</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr></table></blockquote><p>Accepts a name and a column count, then creates a table in the database given this name
        and having that number of columns, or throws an exception.   Returns nothing.</p><p>An exception will occur if the name already exists in the contextual database. [This
        behavior should change in future versions.]</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3adelete-keyspace))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:delete-keyspace</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keyspace</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keyspace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Un-declares a keyspace.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3adelete-table))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:delete-table</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3adelete-table*))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:delete-table*</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-names</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-names</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Drops one or more tables from the database.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3ais-keyspace))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:is-keyspace</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Whether <span class="RktSym">name</span> is a keyspace.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3ais-table))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:is-table</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Whether <span class="RktSym">name</span> is a table.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._db~3atables))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">db:tables</span></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">rx</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rx</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=regexp.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._regexp%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">regexp?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote><p>Lists tables in the database.  If the regular expression is omitted or set to #f then it lists
      all the tables.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._keyspace~3aalloc-number))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">keyspace:alloc-number</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keyspace</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">number?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keyspace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote><p>Returns a number unique within the specified keyspace.  I.e. adds a new number to the keyspace.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._keyspace~3adealloc-number))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">keyspace:dealloc-number</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keyspace</span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">keyspace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">number?</a></span></td></tr></table></blockquote><p>Removes a number from the keyspace.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._table~3adelete))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">table:delete</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span><span class="RktVar">a-pattern</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-pattern</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">pattern?</span></td></tr></table></blockquote><p>Deletes all rows from the table that match the pattern.</p><p>If the table has more than one column, pattern must be a list.  Currently pattern
    elements are either an underscore or a literal.  An underscore matches anything.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._table~3ainsert))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">table:insert</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span><span class="RktVar">row</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">row</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=6.1" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._table~3ainsert*))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">table:insert*</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span><span class="RktVar">rows</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rows</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._any%2529%2529&amp;version=6.1" class="RktStxLink Sq" data-pltdoc="x">any</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Non-string field values are converted to string using <span class="RktSym"><span class="nobreak">-&gt;</span>string</span>.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._liquid/db-lib..rkt)._table~3amatch))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">table:match</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span><span class="RktVar">a-pattern</span><span class="hspace">&nbsp;</span>[<span class="RktVar">a-filter</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fprivate%252Fmisc..rkt%2529._listof%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">row?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">table-name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-pattern</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">pattern?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">a-filter</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">row?</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="http://download.racket-lang.org/docs/6.1/html/local-redirect/index.html?doc=reference&amp;rel=function-contracts.html%23%2528form._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._-%7E3e%2529%2529&amp;version=6.1" class="RktStxLink Sq" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">row?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">identity</span></td></tr></table></blockquote><p>Returns all rows in the table that match the pattern.  If the filter is present then each
    fetched row is sent through it before being returned.</p><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._liquid/db-lib..rkt)._with-db))"></a><span title="Provided from: liquid/db-lib | Package: liquid-lib"><span class="RktSym"><span class="RktSymDef RktSym">with-db</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">db-name</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote><p>Defines a database connection context.  Upon entering the context a connection is opened with the
   posgresql server and attached to the database named db-name.  Information about connecting to
   the database is found in parameter variables at the top of db-lib.rkt.</p><p>The database connection is opened when entering the context, and closed when leaving
   it.  There can be multiple simultaneous database contexts active, even on the same
   database, either due to nesting or threading.</p><p>Inside the context function calls to db-lib or those of the dataplex-lib, which is built on top of
   db-lib, will automatically use the specified database.</p><p>Multiple threads of execution may occur within a database context; however, simultaneous transactions
   contexts are not allowed.   If within a database context a given transaction begins on one thread, then the
   other threads are blocked from beginning a transaction until the given transaction completes. In contrast
   transactions in different database contexts are independent. (If two simultaneous transactions on the same
   database but different connections occur, it is up to the database server to gurantee correct behavior.)</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.1&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Reference.html" title="backward to &quot;4 Reference&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Reference.html" title="up to &quot;4 Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="dataplex-reference.html" title="forward to &quot;4.2 dataplex&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>